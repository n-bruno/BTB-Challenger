<meta charset="UTF-8">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <script src="js/jquery.min.js"></script>
  <script src="js/jput-2.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
  <canvas id="canvas"></canvas>
  
  <script>
  
$.getJSON("resources/Logs.json", function(jsonfile) {
        console.log("myItems");

        var data = jsonfile.map(function(e) {
          return e.Action;
        });
        
        var Successes = 0;
        var Failures = 0;

       for (var i = 0; i < data.length; i++) {
        console.log(i);
          if (data[i] == "Login Success") {
            Successes++;
          }
          else if (data[i] == "Login Failure") {
            Failures++;
          }
        }
        
        var ctx = canvas.getContext('2d');
        var config = {
           type: 'pie',
           data: {
              labels: [ 'Login Success', 'Login Failure' ],
              datasets: [{
                 data: [ Successes, Failures ],
                 backgroundColor: ['rgba(0, 11, 204, 0.3)', 'rgba(220, 20, 60, 0.3)']
              }]
          }
};


			var ctx = document.getElementById('chart-area').getContext('2d');
			window.myPie = new Chart(ctx, config);

    });
  </script>
<html>
<body>
  <div id="canvas-holder" style="width:20%">
		<canvas id="chart-area"></canvas>
	</div>


<table border="1">
         <thead>
            <tr>
               <td>AcmeApiId</td>
               <td>UserName</td>
               <td>SourceIp</td>
               <td>Target</td>
               <td>Action</td>
               <td>EventTime</td>
            </tr> 
         </thead>
         <tbody jput="users" jput-ajax_url="resources/Logs.json">
            <tr>
               <td>{{json.AcmeApiId}}</td>
               <td>{{json.UserName}}</td>
               <td>{{json.SourceIp}}</td>
               <td>{{json.Target}}</td>
               <td>{{json.Action}}</td>
               <td>{{json.EventTime}}</td>
            </tr>
      </tbody>
      <br/>
      <br/>
   </body>
</html>